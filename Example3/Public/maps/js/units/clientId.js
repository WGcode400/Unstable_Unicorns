//-----------------------------------------------------------------------------
// Uses:
// Date: 2021-05-24
//-----------------------------------------------------------------------------

"use strict"

define(
[
  "library/uuid4",
],
function
(
  uuid4,
)
{
  return class ClientId
  {
    //-------------------------------------------------------------------------
    //-------------------------------------------------------------------------
    getName()
    {
      return this._name
    }

    //-------------------------------------------------------------------------
    //-------------------------------------------------------------------------
    getId()
    {
      return this._id
    }

    //-------------------------------------------------------------------------
    //-------------------------------------------------------------------------
    constructor( webSocketAPI, name )
    {
      const self = this
      this._webSocketAPI = webSocketAPI

      if ( ! name )
        name = uuid4()

      this._name = name

      this._webSocketAPI.sessionSetRequest
      (
        { "name" : name },
        function( data )
        {
          self._id = data.id
        }
      )
    }
  }
})
